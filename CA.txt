1) ACR
Création de la clé de l'ACR :
openssl ecparam -genkey -name prime256v1 -out ACR/root_ca.key

Création du CRT de l'ACR :
openssl req -new -x509 -key ACR/root_ca.key -out ACR/root_ca.crt -days 3650


2)
Création de la clé de l'ACI :
openssl ecparam -genkey -name prime256v1 -out ACI/intermediate_ca.key

Création du CSR de l'ACI :
openssl req -new -key ACI/intermediate_ca.key -out ACI/intermediate_ca.csr

Création du CRT de l'ACI :
openssl x509 -req -in ACI/intermediate_ca.csr -CA ACR/root_ca.crt -CAkey ACR/root_ca.key -CAcreateserial -out ACI/intermediate_ca.crt -days 730 -extfile ACI/intermediate_ca.cnf -extensions v3_intermediate_ca

Conversion du CRT en PFX :
openssl pkcs12 -export -inkey ACI/intermediate_ca.key -in ACI/intermediate_ca.crt -name test13 -out test13@mailfence.com.pfx

Affichage de certificat :
openssl x509 -in test13@mailfence.com.crt -text -noout

Affichage des droits de certificat :
openssl x509 -noout -purpose -in ACI/intermediate_ca.crt

Révoquation de certificat ?:
openssl ca -keyfile ACI/intermediate_ca.key -cert ACI/intermediate_ca.crt -revoke certs/test13@mailfence.com.crt -crl_reason test
